function getContentDetailAjax(b,a){wait();$.ajax({url:b,type:"GET",cache:false,dataType:"html",success:function(d,e,c){if(e=="error"){unwait();feedback("error",c.status+" "+c.statusText)}else{if(isContentViewMode){showContentPanelCallback(d,a)}else{showContentPanelCallbackEdit(d,a,null)}}},error:function(c,d,e){unwait();feedback("error",c.status+" "+c.statusText)}})}function submitContentFormAjax(d,a,f){var c=$(d);var e=f==null;var b={beforeSubmit:function(){wait()},data:{returnData:e},success:function(h,i,g){if(i=="error"){unwait();feedback("error",g.status+" "+g.statusText)}else{showContentPanelCallbackEdit(h,a,f)}},error:function(g,h,i){unwait();feedback("error",g.status+" "+g.statusText)}};c.ajaxSubmit(b)}function addContentRepresentationEditorAjax(a,c,b){wait();$.ajax({url:a,data:c,type:"GET",cache:false,dataType:"html",success:function(e,f,d){if(f=="error"){unwait();feedback("error",d.status+" "+d.statusText)}else{addContentRepresentationEditor(e,b)}},error:function(d,e,f){unwait();feedback("error",d.status+" "+d.statusText)}})}function updateCartCount(){var b=getCartCountAjax();var a=$("#menu-cart a");a.text("Song Cart ("+b+")");return b}function getCartCountAjax(){var c=$("#menu-cart a");var a=c.attr("href");a=a+"/CartCount?"+Rnd();var b=0;$.ajax({async:false,url:a,type:"GET",dataType:"json",success:function(d){b=d!=null?d:0}});return b}function addToCartAjax(a){var b=a[0].href;wait();$.ajax({url:b,type:"POST",cache:false,dataType:"json",success:function(d,e,c){if(e=="error"){feedback("error",c.status+" "+c.statusText)}else{feedback("info","1 item added to your song cart");a.fadeOut("slow",function(){a.text("In Cart");a.attr("title","In Cart");a.attr("href","/Cart");a.removeClass("cw-cart-add-link");a.fadeIn("highlight")});updateCartCount();unwait()}},error:function(c,d,e){feedback("error",c.status+" "+c.statusText)}})}function addToCartMultipleAjax(b,c){var a=b[0].href;wait();$.ajax({url:a,type:"POST",cache:false,dataType:"json",data:{items:c},success:function(e,g,d){if(g=="error"){unwait();feedback("error",_cartAddErrorMsg)}else{var f=e+" "+pluralize("item",e)+" added to your song cart";feedback("info",f);updateCartCount();unwait()}},error:function(d,e,f){unwait();feedback("error",_cartAddErrorMsg)}})}function deleteTagAjax(a){var b=a[0].href;wait();$.ajax({url:b,type:"POST",cache:false,dataType:"json",success:function(d,e,c){if(e=="error"){feedback("error",c.status+" "+c.statusText)}else{deleteTagCallback(d,a);unwait()}},error:function(c,d,e){feedback("error",c.status+" "+c.statusText)}})}function writeID3Ajax(a){var b=a[0].href;wait();a.fadeOut("slow");$.ajax({url:b,type:"POST",cache:false,dataType:"json",success:function(d,e,c){if(e=="error"){feedback("error",c.status+" "+c.statusText)}else{var f=a.text();a.text("Saving...");a.fadeOut("slow",function(){a.fadeIn("highlight");a.text(f)})}unwait()},error:function(c,d,e){feedback("error",c.status+" "+c.statusText)}})}function saveMediaFilesAjax(a,c){var d=$(a);var b={beforeSubmit:function(){wait()},success:function(f,g,e){if(g=="error"){feedback("error",e.status+" "+e.statusText)}else{c()}unwait()},error:function(e,f,g){unwait();feedback("error",e.status+" "+e.statusText)}};d.ajaxSubmit(b)}function deleteContentMultipleAjax(b,c){var a=b[0].href;wait();$.ajax({url:a,type:"POST",cache:false,dataType:"json",data:{items:c},success:function(e,f,d){if(f=="error"){unwait();feedback("error",d.status+" "+d.statusText)}else{feedback("info",e+" "+pluralize("item",e)+" deleted");updateCartCount();closeContentPanel();removeCheckedRows();hideEmptyContentsTable();unwait()}},error:function(d,e,f){unwait();feedback("error",d.status+" "+d.statusText)}})}function getUserDetailAjax(a){wait();$.ajax({url:a,cache:false,dataType:"html",success:function(c,d,b){if(d=="error"){feedback("error",b.status+" "+b.statusText)}else{showUserDetailPanel(c);unwait()}},error:function(b,c,d){feedback("error",b.status+" "+b.statusText)}})}function getCatalogDetailAjax(a){wait();$.ajax({url:a,cache:false,dataType:"html",success:function(c,d,b){if(d=="error"){feedback("error",b.status+" "+b.statusText)}else{showCatalogDetailPanel(c);unwait()}},error:function(b,c,d){feedback("error",b.status+" "+b.statusText)}})}function updateRoleAjax(a){var b=a[0].href;$.ajax({url:b,dataType:"json",type:"POST",cache:false,success:function(d,e,c){if(e=="error"){feedback("error",c.status+" "+c.statusText)}else{toggleTagBoxSelection(a,"cw-green",true)}},error:function(c,d,e){feedback("error",c.status+" "+c.statusText)}})}function setSystemAdminAccessAjax(a){var b=a[0].value;$.ajax({url:b,dataType:"json",type:"POST",cache:false,success:function(d,e,c){if(e=="error"){feedback("error",c.status+" "+c.statusText)}else{feedback("info","System access updated")}},error:function(c,d,e){feedback("error",c.status+" "+c.statusText)}})}function updateUserCatRoleAjax(b){wait();var a=b[0].href;var c=b[0].rel;$.ajax({url:a,dataType:"json",type:"POST",cache:false,success:function(e,f,d){if(f=="error"){feedback("error",d.status+" "+d.statusText)}else{getUserDetailAjax(c);unwait()}},error:function(d,e,f){feedback("error",d.status+" "+d.statusText)}})}function updateCatRoleAjax(b){wait();var a=b[0].href;var c=b[0].rel;$.ajax({url:a,dataType:"json",type:"POST",cache:false,success:function(e,f,d){if(f=="error"){feedback("error",d.status+" "+d.statusText)}else{getCatalogDetailAjax(c);unwait()}},error:function(d,e,f){feedback("error",d.status+" "+d.statusText)}})};